<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ulysses - 50 MCQ Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* Google Fonts */
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap');

    :root {
      --primary-color: #2c3e50; /* Dark Blue/Grey */
      --secondary-color: #3498db; /* Bright Blue */
      --accent-color: #e74c3c; /* Red for danger/timer */
      --success-color: #27ae60; /* Green for correct answers */
      --wrong-color: #e74c3c; /* Red for wrong answers */
      --text-color: #333;
      --bg-color: #ecf0f1; /* Light Grey */
      --card-bg: #ffffff;
      --border-color: #ddd;
    }

    body {
      font-family: 'Open Sans', sans-serif;
      padding: 2rem;
      background: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      margin: 0;
    }
    .quiz-container {
      max-width: 900px;
      width: 100%;
      margin: 2rem auto;
      background: var(--card-bg);
      padding: 2.5rem 3rem;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      position: relative;
    }
    h1 {
      font-family: 'Montserrat', sans-serif;
      text-align: center;
      margin-bottom: 2.5rem;
      color: var(--primary-color);
      font-weight: 700;
      font-size: 2.5rem;
      letter-spacing: -0.5px;
    }
    .timer-container {
      text-align: center;
      margin-bottom: 2rem;
      padding: 0.8rem 1.5rem;
      background: var(--secondary-color);
      color: white;
      border-radius: 8px;
      font-family: 'Montserrat', sans-serif;
      font-size: 1.8rem;
      font-weight: 600;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      transition: background-color 0.3s ease;
    }
    .timer-container.low-time {
      background-color: var(--accent-color);
    }

    /* Question display for one-by-one */
    .question-slide {
        display: none; /* Hidden by default */
    }
    .question-slide.active {
        display: block; /* Show active question */
    }

    .question strong {
      display: block;
      font-size: 1.25rem;
      margin-bottom: 1rem;
      color: var(--primary-color);
      font-family: 'Montserrat', sans-serif;
      font-weight: 600;
    }
    .options {
      margin-top: 0.8rem;
    }
    .options label {
      display: flex; /* Use flexbox for better alignment of radio and text */
      align-items: flex-start;
      margin-bottom: 0.7rem;
      cursor: pointer;
      font-size: 1.05rem;
      padding: 0.5rem 0.8rem;
      border-radius: 6px;
      transition: background-color 0.2s ease, transform 0.1s ease;
    }
    .options label:hover {
      background-color: #f5f5f5;
      transform: translateX(5px);
    }
    .options input[type="radio"] {
      margin-right: 12px;
      margin-top: 4px; /* Adjust vertical alignment of radio button */
      accent-color: var(--secondary-color); /* Custom color for radio button */
      transform: scale(1.1); /* Slightly larger radio button */
    }
    .options label span {
      font-weight: normal; /* Ensure option text itself is not bold */
    }

    .controls {
        display: flex;
        justify-content: space-between;
        margin-top: 2.5rem;
    }
    .controls button {
        padding: 0.8rem 1.5rem;
        background: var(--secondary-color);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 1.1rem;
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .controls button:hover {
        background-color: #2980b9;
        transform: translateY(-2px);
    }
    .controls button:active {
        transform: translateY(0);
    }
    .controls button:disabled {
        background-color: #cccccc;
        cursor: not-allowed;
        box-shadow: none;
        transform: none;
    }

    #submit-btn {
      display: block;
      width: 100%;
      padding: 1rem 1.5rem;
      margin-top: 2.5rem;
      background: var(--success-color); /* Green for submit */
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1.3rem;
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    #submit-btn:hover {
      background-color: #219d52;
      transform: translateY(-2px);
    }
    #submit-btn:active {
      transform: translateY(0);
    }

    /* Results styling */
    .result-container {
        display: none; /* Hidden by default */
        margin-top: 2rem;
        padding: 1.5rem;
        background: #eaf7fd; /* Light blue background for results */
        border: 1px solid #cceeff;
        border-radius: 8px;
        font-family: 'Montserrat', sans-serif;
        color: var(--primary-color);
    }
    .result-score {
        font-size: 1.6rem;
        font-weight: 700;
        text-align: center;
        margin-bottom: 1.5rem;
    }
    .answer-feedback {
        margin-bottom: 1rem;
        padding: 0.8rem;
        border-radius: 6px;
        border: 1px solid var(--border-color);
    }
    .answer-feedback strong {
        font-size: 1.1rem;
        display: block;
        margin-bottom: 0.5rem;
    }
    .answer-feedback .user-answer {
        font-weight: 600;
    }
    .answer-feedback.correct {
        background-color: #e6ffe6; /* Very light green */
        border-color: var(--success-color);
    }
    .answer-feedback.incorrect {
        background-color: #ffe6e6; /* Very light red */
        border-color: var(--wrong-color);
    }
    .answer-feedback .correct-answer-text {
        color: var(--success-color);
        font-weight: 600;
        margin-top: 0.3rem;
    }
    .answer-feedback .your-answer-text {
      font-weight: 600;
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h1>Ulysses â€“ 50 MCQ Quiz</h1>

    <div class="timer-container" id="timer">
      30:00
    </div>

    <div id="quiz">
      </div>

    <div class="controls">
      <button id="prev-btn" disabled>Previous</button>
      <button id="next-btn">Next</button>
    </div>

    <button id="submit-quiz-btn" style="display: none;">Submit Quiz</button>

    <div class="result-container" id="result-container">
      <div class="result-score" id="result-score"></div>
      <div id="answer-feedback-list"></div>
      <button id="retake-quiz-btn" style="display: none; margin-top: 20px; padding: 10px 20px; background-color: var(--secondary-color); color: white; border: none; border-radius: 5px; cursor: pointer;">Retake Quiz</button>
    </div>
  </div>

  <script>
    const quizQuestionsUlysses = [
        {
            q: "1. 'Ulysses' is a dramatic monologue. What is a key characteristic of this poetic form?",
            options: ["A single speaker addresses a silent listener or audience.", "Multiple characters engage in dialogue.", "The poet directly expresses personal feelings.", "It tells a story in verse with an omniscient narrator."],
            answer: 0
        },
        {
            q: "2. The poem 'Ulysses' was published in which collection?",
            options: ["Poems (1842)", "In Memoriam A.H.H.", "Maud, and Other Poems", "Idylls of the King"],
            answer: 0 // Poems (1842)
        },
        {
            q: "3. Tennyson wrote 'Ulysses' largely in response to the death of whom?",
            options: ["Arthur Henry Hallam", "Queen Victoria", "Lord Byron", "John Keats"],
            answer: 0 // Arthur Henry Hallam
        },
        {
            q: "4. What is Ulysses' primary complaint about his current life in Ithaca?",
            options: ["It is dull and unfulfilling after his adventures.", "His wife, Penelope, is too demanding.", "His son, Telemachus, is disobedient.", "The people of Ithaca do not respect him."],
            answer: 0
        },
        {
            q: "5. 'It little profits that an idle king, / By this still hearth, among these barren crags...' - What does 'idle' imply about Ulysses' state?",
            options: ["He feels unproductive and restless.", "He is lazy and avoids work.", "He is without a kingdom.", "He is a virtuous ruler."],
            answer: 0
        },
        {
            q: "6. The phrase 'barren crags' is an example of:",
            options: ["Imagery (visual)", "Alliteration", "Metaphor", "Personification"],
            answer: 0
        },
        {
            q: "7. 'Matched with an aged wife, I mete and dole / Unequal laws unto a savage race.' What does 'mete and dole' mean?",
            options: ["To distribute or administer.", "To measure and count.", "To complain and grumble.", "To fight and struggle."],
            answer: 0
        },
        {
            q: "8. The 'savage race' refers to:",
            options: ["The uncultured and uncivilized people of Ithaca.", "Enemies from his past voyages.", "Wild animals.", "A distinct ethnic group."],
            answer: 0
        },
        {
            q: "9. 'I am become a name' - This line suggests Ulysses feels his identity is now primarily defined by his:",
            options: ["Past reputation and legendary exploits.", "Current duties as a king.", "Personal relationships.", "Wealth and status."],
            answer: 0
        },
        {
            q: "10. 'For always roaming with a hungry heart' - 'Hungry heart' is an example of:",
            options: ["Personification", "Metaphor", "Simile", "Synecdoche"],
            answer: 1 // Metaphor
        },
        {
            q: "11. 'Much have I seen and known; cities of men / And manners, climates, councils, governments, / Myself not least, but honour'd of them all' - What does 'Myself not least' mean?",
            options: ["He implies he was a significant and respected figure among those he encountered.", "He feels he was the smallest among them.", "He learned the least during his travels.", "He was dishonored everywhere."],
            answer: 0
        },
        {
            q: "12. 'I am a part of all that I have met' highlights which theme?",
            options: ["The transformative power of experience.", "The importance of individual identity.", "The futility of travel.", "The burden of memory."],
            answer: 0
        },
        {
            q: "13. 'Yet all experience is an arch where thro' / Gleams that untravell'd world whose margin fades / For ever and for ever when I move.' What does 'arch' symbolize here?",
            options: ["A gateway to further knowledge and exploration.", "A barrier preventing progress.", "A structure for support.", "A decorative element."],
            answer: 0
        },
        {
            q: "14. 'To follow knowledge like a sinking star, / Beyond the utmost bound of human thought.' 'Sinking star' is a:",
            options: ["Simile", "Metaphor", "Paradox", "Oxymoron"],
            answer: 0
        },
        {
            q: "15. What does 'untravell'd world' signify?",
            options: ["The vast realm of unknown knowledge and future experiences.", "A world that is impossible to reach.", "A world that existed in the past.", "A fictional world."],
            answer: 0
        },
        {
            q: "16. Ulysses describes his son, Telemachus, as 'He works his work, I mine.' This implies:",
            options: ["A clear division of labor and contrasting approaches to life.", "A conflict between father and son.", "Telemachus is lazy.", "Ulysses is interfering with his son's duties."],
            answer: 0
        },
        {
            q: "17. Telemachus is described as 'most blameless' and 'centred in the sphere / Of common duties.' What does 'common duties' suggest?",
            options: ["The responsibilities of governing and maintaining order in the kingdom.", "Mundane and unimportant tasks.", "Duties that everyone shares.", "Military obligations."],
            answer: 0
        },
        {
            q: "18. 'To make mild a rugged people, and thro' soft degrees / Subdue them to the useful and the good.' What does 'Subdue them to the useful and the good' mean?",
            options: ["To gently civilize and bring them towards productive and moral living.", "To conquer them by force.", "To make them obedient slaves.", "To ignore their needs."],
            answer: 0
        },
        {
            q: "19. The lines 'There lies the port; the vessel puffs her sail: / There gloom the dark broad seas.' - 'Puffs her sail' is an example of:",
            options: ["Personification", "Onomatopoeia", "Hyperbole", "Synecdoche"],
            answer: 0
        },
        {
            q: "20. The 'dark broad seas' evoke a sense of:",
            options: ["Vastness, mystery, and perhaps foreboding.", "Calmness and tranquility.", "Comfort and familiarity.", "Narrowness and limitation."],
            answer: 0
        },
        {
            q: "21. Ulysses addresses his mariners as 'my mariners, / Souls that have toil'd, and wrought, and thought with me.' What does 'wrought' mean here?",
            options: ["Labored; worked.", "Suffered; grieved.", "Fought; battled.", "Learned; studied."],
            answer: 0
        },
        {
            q: "22. 'That ever with a frolic welcome took / The thunder and the sunshine, and opposed / Free hearts, free foreheads.' What does 'frolic welcome' suggest?",
            options: ["A joyous and eager acceptance of all experiences, good or bad.", "A hesitant and fearful response.", "A sarcastic greeting.", "An indifferent attitude."],
            answer: 0
        },
        {
            q: "23. 'Tho' much is taken, much abides; and tho' / We are not now that strength which in old days / Moved earth and heaven; that which we are, we are.' This passage speaks to the theme of:",
            options: ["Resilience and acceptance of diminished power.", "Nostalgia for lost youth.", "Regret over past failures.", "Despair in the face of old age."],
            answer: 0
        },
        {
            q: "24. 'One equal temper of heroic hearts, / Made weak by time and fate, but strong in will / To strive, to seek, to find, and not to yield.' 'Temper' here means:",
            options: ["Disposition or character.", "Anger or rage.", "Physical strength.", "A temporary state."],
            answer: 0
        },
        {
            q: "25. The famous closing lines 'To strive, to seek, to find, and not to yield' embody which core Victorian value?",
            options: ["Perseverance and determination.", "Submission to fate.", "Material wealth.", "Intellectual curiosity above all else."],
            answer: 0
        },
        {
            q: "26. What literary movement is 'Ulysses' often associated with due to its focus on individual consciousness and complex psychological states?",
            options: ["Victorianism (especially its dramatic monologue aspect)", "Romanticism", "Modernism", "Neoclassicism"],
            answer: 0
        },
        {
            q: "27. The use of blank verse (unrhymed iambic pentameter) in 'Ulysses' contributes to its:",
            options: ["Formal yet conversational tone, mimicking natural speech.", "Melodious, song-like quality.", "Informal and casual atmosphere.", "Strict, rigid structure."],
            answer: 0
        },
        {
            q: "28. 'As tho' to breathe were life!' - This exclamation indicates Ulysses' belief that:",
            options: ["Mere existence without active pursuit of experience is not true living.", "Breathing is the most important aspect of life.", "Life is simple and effortless.", "He is grateful for every breath."],
            answer: 0
        },
        {
            q: "29. The phrase 'gloomy mind' in 'little do they know me. I am going / To meet a gloomy mind' is an example of:",
            options: ["Transferred epithet", "Personification", "Metaphor", "Synecdoche"],
            answer: 0 // (Though it might seem like a direct description, the gloominess is transferred from the situation to the mind itself, subtly implying a mental state)
        },
        {
            q: "30. What is the symbolic significance of the 'long day' that 'wanes'?",
            options: ["The gradual decline of life into old age.", "A literal extended period of daylight.", "The shortening of the seasons.", "The slow passage of a single day."],
            answer: 0
        },
        {
            q: "31. 'The slow moon climbs' is an example of:",
            options: ["Personification", "Simile", "Metonymy", "Hyperbole"],
            answer: 0
        },
        {
            q: "32. 'The deep Moans round with many voices' - 'Moans' is an example of:",
            options: ["Personification", "Onomatopoeia", "Both A and B", "Neither A nor B"],
            answer: 2 // Both A and B
        },
        {
            q: "33. What does Ulysses mean by 'My purpose holds / To sail beyond the sunset, and the baths / Of all the western stars, until I die'?",
            options: ["He intends to sail into uncharted waters and beyond the known world, perhaps to his death.", "He plans to travel to a specific mythical location.", "He is giving up on life and sailing towards darkness.", "He wants to explore the stars."],
            answer: 0
        },
        {
            q: "34. The 'great Achilles, whom we knew' serves what purpose in the poem?",
            options: ["To remind the mariners of their past heroic companions and shared glory.", "To highlight Achilles' current location.", "To criticize Achilles' actions.", "To suggest Achilles is still alive."],
            answer: 0
        },
        {
            q: "35. 'The sound of battle, and the shout of wives' is an example of:",
            options: ["Juxtaposition", "Alliteration", "Repetition", "Assonance"],
            answer: 0
        },
        {
            q: "36. 'The light of heaven, the world's desire' - What is 'the world's desire' referring to?",
            options: ["The pursuit of glory, knowledge, and adventure that Ulysses embodies.", "A longing for peace and rest.", "Material possessions.", "Spiritual enlightenment."],
            answer: 0
        },
        {
            q: "37. Ulysses believes that it is 'not too late to seek a newer world.' This emphasizes:",
            options: ["His enduring spirit of exploration and optimism despite old age.", "His naive belief in a utopian future.", "His rejection of the past.", "His fear of death."],
            answer: 0
        },
        {
            q: "38. 'Push off, and sitting well in order smite / The sounding furrows; for my purpose holds.' 'Smite the sounding furrows' is an example of:",
            options: ["Metaphor", "Alliteration", "Onomatopoeia", "Both A and B"],
            answer: 3 // It's both a metaphor (for the act of rowing) and alliteration.
        },
        {
            q: "39. What does the metaphor 'The sounding furrows' evoke?",
            options: ["The noisy wake created by the oars cutting through the water.", "The plowing of fields.", "Deep valleys in the ocean.", "The furrows on an old man's brow."],
            answer: 0
        },
        {
            q: "40. The phrase 'some work of noble note may yet be done' suggests Ulysses' desire for:",
            options: ["Continued achievement and lasting legacy.", "Financial gain.", "Recognition from his peers.", "A simple, quiet life."],
            answer: 0
        },
        {
            q: "41. 'It may be that the gulfs will wash us down: / It may be we shall touch the Happy Isles...' The contrast between these two possibilities highlights:",
            options: ["The inherent risks and potential rewards of their adventurous quest.", "Ulysses' indecisiveness.", "The certainty of death.", "The futility of their efforts."],
            answer: 0
        },
        {
            q: "42. The 'Happy Isles' refer to:",
            options: ["The mythological paradise for heroes in the afterlife (Elysian Fields).", "A real geographical location.", "A metaphor for peaceful retirement.", "A place of great sadness."],
            answer: 0
        },
        {
            q: "43. 'And see the great Achilles, whom we knew.' The repetition of 'whom we knew' serves to:",
            options: ["Reinforce the shared heroic past and bond between Ulysses and his mariners.", "Emphasize Achilles' fame.", "Suggest a lack of knowledge about Achilles.", "Express regret over Achilles' death."],
            answer: 0
        },
        {
            q: "44. The poem implies that Telemachus represents:",
            options: ["The stability, order, and domestic duties of a settled life.", "Adventure and exploration.", "Rebellion and defiance.", "Weakness and incompetence."],
            answer: 0
        },
        {
            q: "45. Ulysses, on the other hand, embodies:",
            options: ["The restless spirit of exploration, intellectual curiosity, and striving against limits.", "Contentment and peace.", "Fear and hesitation.", "Materialism and greed."],
            answer: 0
        },
        {
            q: "46. What is the primary tension in 'Ulysses'?",
            options: ["The conflict between a life of domestic duty and a life of adventurous striving.", "The conflict between Ulysses and his son.", "The conflict between man and nature.", "The conflict between past and present."],
            answer: 0
        },
        {
            q: "47. The poemâ€™s conclusion, 'To strive, to seek, to find, and not to yield,' serves as:",
            options: ["An inspiring call to relentless effort and determination.", "A pessimistic acceptance of fate.", "A simple statement of fact.", "A surrender to challenges."],
            answer: 0
        },
        {
            q: "48. The phrase 'little profits' in the opening stanza uses 'profits' in the sense of:",
            options: ["Benefit or advantage.", "Financial gain.", "Predictions.", "Business ventures."],
            answer: 0
        },
        {
            q: "49. When Ulysses speaks of 'scraps' of food, 'drinking life to the lees,' this metaphor suggests:",
            options: ["Consuming life fully, down to the last drop.", "Wasting food and resources.", "Living a life of deprivation.", "Enjoying only the surface pleasures of life."],
            answer: 0
        },
        {
            q: "50. The poem's enduring appeal lies in its exploration of:",
            options: ["The human desire for meaning, purpose, and continued growth even in old age.", "The comforts of home and family.", "The futility of ambition.", "The inevitability of despair."],
            answer: 0
        }
    ];

    const quizDiv = document.getElementById("quiz");
    const timerDisplay = document.getElementById("timer");
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");
    const submitQuizBtn = document.getElementById("submit-quiz-btn");
    const resultContainer = document.getElementById("result-container");
    const resultScore = document.getElementById("result-score");
    const answerFeedbackList = document.getElementById("answer-feedback-list");
    const retakeQuizBtn = document.getElementById("retake-quiz-btn");

    let currentQuestionIndex = 0;
    const userAnswers = new Array(quizQuestionsUlysses.length).fill(null); // To store user's selected answers
    const TIME_LIMIT_SECONDS = 30 * 60; // 30 minutes in seconds
    let timeLeft = TIME_LIMIT_SECONDS;
    let timerInterval;

    function startTimer() {
        timerInterval = setInterval(() => {
            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

            if (timeLeft <= 60) { // Less than or equal to 1 minute
                timerDisplay.classList.add('low-time');
            } else {
                timerDisplay.classList.remove('low-time');
            }

            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                timerDisplay.textContent = "Time's Up!";
                submitQuiz(); // Automatically submit when time runs out
            }
        }, 1000);
    }

    function buildQuiz() {
      const q = quizQuestionsUlysses[currentQuestionIndex];
      const output = [];

      const optionsHtml = q.options.map((opt, i) =>
        `<label>
            <input type="radio" name="question${currentQuestionIndex}" value="${i}" ${userAnswers[currentQuestionIndex] === i ? 'checked' : ''}>
            <span>${String.fromCharCode(65 + i)}. ${opt}</span>
        </label>`
      ).join("");

      output.push(`<div class="question"><strong>${q.q}</strong><div class="options">${optionsHtml}</div></div>`);
      quizDiv.innerHTML = output.join("");

      // Add event listeners to radio buttons to update userAnswers
      const radioButtons = quizDiv.querySelectorAll(`input[name="question${currentQuestionIndex}"]`);
      radioButtons.forEach(radio => {
        radio.addEventListener('change', (event) => {
          userAnswers[currentQuestionIndex] = parseInt(event.target.value);
        });
      });

      updateNavigationButtons();
    }

    function updateNavigationButtons() {
        prevBtn.disabled = currentQuestionIndex === 0;
        nextBtn.disabled = currentQuestionIndex === quizQuestionsUlysses.length - 1;

        if (currentQuestionIndex === quizQuestionsUlysses.length - 1) {
            nextBtn.style.display = 'none'; // Hide next button on last question
            submitQuizBtn.style.display = 'block'; // Show submit button
        } else {
            nextBtn.style.display = 'block';
            submitQuizBtn.style.display = 'none';
        }
    }

    function showNextQuestion() {
      if (currentQuestionIndex < quizQuestionsUlysses.length - 1) {
        currentQuestionIndex++;
        buildQuiz();
      }
    }

    function showPreviousQuestion() {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        buildQuiz();
      }
    }

    function submitQuiz() {
        clearInterval(timerInterval); // Stop the timer
        quizDiv.style.display = 'none';
        prevBtn.style.display = 'none';
        nextBtn.style.display = 'none';
        submitQuizBtn.style.display = 'none';
        timerDisplay.style.display = 'none'; // Hide timer after submission

        let score = 0;
        answerFeedbackList.innerHTML = ''; // Clear previous feedback

        quizQuestionsUlysses.forEach((q, index) => {
            const userAnswer = userAnswers[index];
            const correctAnswer = q.answer;
            const isCorrect = userAnswer === correctAnswer;

            if (isCorrect) {
                score++;
            }

            const feedbackDiv = document.createElement('div');
            feedbackDiv.classList.add('answer-feedback');
            feedbackDiv.classList.add(isCorrect ? 'correct' : 'incorrect');

            let userAnswerText = 'Not answered';
            if (userAnswer !== null) {
                userAnswerText = q.options[userAnswer];
            }

            feedbackDiv.innerHTML = `
                <strong>${q.q}</strong><br>
                <span class="your-answer-text">Your Answer: ${userAnswer !== null ? `(${String.fromCharCode(65 + userAnswer)}) ${userAnswerText}` : userAnswerText}</span><br>
                <span class="correct-answer-text">Correct Answer: (${String.fromCharCode(65 + correctAnswer)}) ${q.options[correctAnswer]}</span>
            `;
            answerFeedbackList.appendChild(feedbackDiv);
        });

        resultScore.textContent = `You scored ${score} out of ${quizQuestionsUlysses.length}`;
        resultContainer.style.display = 'block';
        retakeQuizBtn.style.display = 'block'; // Show retake button
    }

    function retakeQuiz() {
        // Reset state
        currentQuestionIndex = 0;
        userAnswers.fill(null);
        timeLeft = TIME_LIMIT_SECONDS;

        // Reset display
        resultContainer.style.display = 'none';
        quizDiv.style.display = 'block';
        prevBtn.style.display = 'block';
        nextBtn.style.display = 'block';
        timerDisplay.style.display = 'block';
        retakeQuizBtn.style.display = 'none';
        timerDisplay.textContent = "30:00"; // Reset timer display text
        timerDisplay.classList.remove('low-time');


        // Start over
        buildQuiz();
        startTimer();
    }

    // Initial setup
    buildQuiz();
    startTimer();

    // Event Listeners
    prevBtn.addEventListener("click", showPreviousQuestion);
    nextBtn.addEventListener("click", showNextQuestion);
    submitQuizBtn.addEventListener("click", submitQuiz);
    retakeQuizBtn.addEventListener("click", retakeQuiz);

  </script>
</body>
</html>
