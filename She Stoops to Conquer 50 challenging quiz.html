<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Literary Quiz: Mixed Bag (50 MCQs)</title>
    <meta name="description" content="Test your knowledge of John Keats' 'Ode to a Nightingale' and Oliver Goldsmith's 'She Stoops to Conquer' with 50 challenging mixed MCQs.">
    <meta name="keywords" content="Ode to a Nightingale, John Keats, She Stoops to Conquer, Oliver Goldsmith, MCQ, quiz, English literature, Romantic poetry, Restoration comedy, poetry analysis, drama analysis">
    <meta name="author" content="Your Name or Website Name">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: #e6f7ff; /* Light blue-grey background, softer than previous */
            color: #333;
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            box-sizing: border-box;
        }
        .container {
            max-width: 900px;
            width: 100%;
            background: #ffffff;
            padding: 30px 40px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            border: 1px solid #cceeff; /* Soft blue border */
            margin-bottom: 30px;
        }
        h1 {
            color: #1a5a8e; /* Darker blue heading */
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.05);
        }
        .info-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            padding: 10px 0;
            border-bottom: 1px solid #cfd8dc;
        }
        #timer, #score {
            font-size: 1.3em;
            font-weight: bold;
            padding: 8px 15px;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
            min-width: 150px; /* Ensure consistent width */
            text-align: center;
        }
        #timer {
            color: #d32f2f; /* Red for timer */
            background: #ffebee;
            border: 1px solid #ef9a9a;
        }
        #score {
            color: #2e7d32; /* Green for score */
            background: #e8f5e9;
            border: 1px solid #a5d6a7;
        }
        .question-block {
            background: #e3f2fd;
            margin-bottom: 20px;
            padding: 20px;
            border: 1px solid #bbdefb;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .question-text {
            font-weight: 600;
            margin-bottom: 15px; /* Increased margin */
            font-size: 1.15em;
            color: #1a5a8e;
        }
        .options-group label {
            display: block;
            margin: 10px 0;
            cursor: pointer;
            padding: 10px 15px; /* Increased padding */
            border-radius: 5px; /* Rounded corners for options */
            transition: background-color 0.2s ease, color 0.2s ease;
            border: 1px solid #b3e5fc; /* Light blue border for options */
        }
        .options-group label:hover {
            background-color: #d6eaff; /* Lighter blue on hover */
            color: #0288d1;
        }
        .options-group input[type="radio"] {
            margin-right: 12px; /* Increased margin */
            transform: scale(1.2); /* Slightly larger radio buttons */
            accent-color: #01579b; /* Custom accent color for radio */
        }

        /* Feedback for correct/incorrect answers */
        .question-block.correct .options-group label.selected-correct {
            color: #fff;
            background-color: #2e7d32; /* Green background for correct */
            border-color: #2e7d32;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(46, 125, 50, 0.4);
            animation: pulse-green 0.5s forwards;
        }
        .question-block.incorrect .options-group label.selected-incorrect {
            color: #fff;
            background-color: #d32f2f; /* Red background for incorrect */
            border-color: #d32f2f;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(211, 47, 47, 0.4);
            animation: shake 0.3s;
        }
        .question-block.incorrect .options-group label.correct-answer {
            color: #fff;
            background-color: #2e7d32; /* Green background for correct when user was wrong */
            border-color: #2e7d32;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(46, 125, 50, 0.4);
        }

        button {
            display: block;
            width: 280px;
            padding: 15px 25px;
            margin: 30px auto;
            background: #007bb5;
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
        button:hover:not(:disabled) {
            background: #005a8b;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        #result {
            font-size: 2em;
            font-weight: bold;
            text-align: center;
            margin-top: 30px;
            color: #1a5a8e;
        }
        .hidden {
            display: none;
        }

        @keyframes pulse-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.01); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            50% { transform: translateX(3px); }
            75% { transform: translateX(-3px); }
            100% { transform: translateX(0); }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .container {
                padding: 20px;
                margin-top: 10px;
            }
            h1 {
                font-size: 1.8em;
                margin-bottom: 20px;
            }
            .info-bar {
                flex-direction: column;
                align-items: center;
            }
            #timer, #score {
                width: 90%;
                margin-bottom: 10px;
                text-align: center;
            }
            .question-text {
                font-size: 1em;
            }
            button {
                width: 80%;
                font-size: 1.1em;
                padding: 12px 20px;
            }
            #result {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Literary Quiz: Mixed Bag (50 MCQs)</h1>
        <div class="info-bar">
            <div id="timer">Time left: 25:00</div>
            <div id="score">Score: 0 / 0</div>
        </div>
        <form id="quizForm" class="hidden"></form>
        <button id="submitBtn" class="hidden">Submit Quiz (End Test)</button>
        <button id="startQuizBtn">Start Quiz</button>
        <div id="result" class="hidden"></div>
    </div>

    <script>
        const allPossibleQuestions = [
            // Ode to a Nightingale Questions (25 selected)
            { q: "1. The speaker's 'drowsy numbness' in Stanza I is likened to: ", options: ["Having drunk heavily from the 'Lethe'", "Having consumed a powerful opiate", "Listening to the nightingale's song for too long", "A state of profound melancholy leading to sleep"], answer: "Having consumed a powerful opiate" },
            { q: "2. The 'Dryad of the trees' in Stanza I is an example of what literary device?", options: ["Personification", "Metonymy", "Apostrophe", "Both A and C"], answer: "Both A and C" },
            { q: "3. 'Not that with envy of thy happy lot' (Stanza I) suggests the speaker is NOT jealous of the nightingale's:", options: ["Lack of human suffering", "Musical talent", "Long lifespan", "Natural freedom"], answer: "Long lifespan" },
            { q: "4. The 'draught of vintage' (Stanza II) the speaker desires is associated with:", options: ["The French Revolution", "Classical Greek mythology and revelry", "Biblical feasts", "Medieval banquets"], answer: "Classical Greek mythology and revelry" },
            { q: "5. What specific quality of the vintage makes it 'cool'd a long age in the deep-delved earth' (Stanza II)?", options: ["Its refreshing temperature", "Its ancient, matured quality", "Its burial by ancient civilizations", "Its connection to subterranean deities"], answer: "Its ancient, matured quality" },
            { q: "6. The phrase 'beaded bubbles winking at the brim' (Stanza II) appeals primarily to which senses, creating synaesthesia?", options: ["Sight and Touch", "Sight and Sound", "Sight and Taste", "Sight and Movement"], answer: "Sight and Touch" },
            { q: "7. The primary reason the speaker wishes to 'fade away into the forest dim' (Stanza III) is to escape:", options: ["The beauty of the nightingale's song", "His personal sorrows and the human condition", "The harsh realities of nature", "The pressures of poetic composition"], answer: "His personal sorrows and the human condition" },
            { q: "8. 'Where youth grows pale, and spectre-thin, and dies' (Stanza III) highlights the theme of:", options: ["Eternal spring", "The fleeting nature of beauty", "The inevitability of human mortality", "The transformative power of art"], answer: "The inevitability of human mortality" },
            { q: "9. The 'Beauty cannot keep her lustrous eyes, / Or new Love pine at them beyond to-morrow' (Stanza III) describes the transience of:", options: ["Nature's cycles", "Poetic inspiration", "Physical beauty and passionate love", "Human fame and reputation"], answer: "Physical beauty and passionate love" },
            { q: "10. In Stanza IV, the speaker rejects wine as his vehicle for escape and instead chooses:", options: ["Sleep", "Pure sensation", "The 'viewless wings of Poesy'", "A journey to a distant land"], answer: "The 'viewless wings of Poesy'" },
            { q: "11. The phrase 'tender is the night' (Stanza V) primarily emphasizes the night's:", options: ["Gentleness and welcoming nature", "Coldness and harshness", "Mysterious and terrifying aspects", "Brief duration"], answer: "Gentleness and welcoming nature" },
            { q: "12. In Stanza V, the speaker struggles to discern the surrounding flora, relying heavily on:", options: ["His memory of previous visits", "The distant sound of the sea", "His sense of touch", "His sense of smell"], answer: "His sense of smell" },
            { q: "13. The 'Queen-Moon' with her 'starry Fays' (Stanza V) represents:", options: ["A benevolent deity", "A symbol of unchanging love", "The celestial realm's inhabitants", "The mythological figures attending the moon"], answer: "The mythological figures attending the moon" },
            { q: "14. The 'embalmed darkness' (Stanza V) suggests a darkness that is:", options: ["Preserved and sacred", "Suffocating and funereal", "Fragrant and enveloping", "Deeply mysterious and frightening"], answer: "Fragrant and enveloping" },
            { q: "15. 'Now more than ever seems it rich to die' (Stanza VI) suggests that death is appealing because:", options: ["It promises reunion with lost loved ones", "It offers a release from earthly pain and a merging with the bird's song", "It would guarantee poetic immortality", "It allows the speaker to observe the nightingale more closely"], answer: "It offers a release from earthly pain and a merging with the bird's song" },
            { q: "16. The 'high requiem' (Stanza VI) sung by the nightingale implies:", options: ["A celebratory song for the living", "A mournful hymn for the dead", "A song of praise for nature", "A complex musical composition"], answer: "A mournful hymn for the dead" },
            { q: "17. 'Thou wast not born for death, immortal Bird!' (Stanza VII) means the bird is immortal in its:", options: ["Biological lifespan", "Symbolic representation of enduring art and song", "Ability to escape human suffering", "Physical resilience against time"], answer: "Symbolic representation of enduring art and song" },
            { q: "18. The emperors and clowns (Stanza VII) symbolize:", options: ["The extremes of human society", "Figures of power and entertainment", "The fleeting nature of human achievements, regardless of status", "Historical archetypes"], answer: "The fleeting nature of human achievements, regardless of status" },
            { q: "19. The song heard by Ruth (Stanza VII) is significant because it connects the nightingale's song to:", options: ["Ancient Greek tragedy", "Medieval folklore", "Biblical antiquity and human sorrow", "Roman imperial power"], answer: "Biblical antiquity and human sorrow" },
            { q: "20. The 'magic casements, opening on the foam / Of perilous seas, in faery lands forlorn' (Stanza VII) evokes:", options: ["Realistic maritime exploration", "Romantic escapism into exotic and dangerous fantasy realms", "The mundanity of everyday life", "Historical colonial ventures"], answer: "Romantic escapism into exotic and dangerous fantasy realms" },
            { q: "21. The word 'forlorn' (Stanza VIII), when echoed, primarily signifies:", options: ["Hope and renewal", "Isolation and abandonment", "Joyful reminiscence", "Sudden enlightenment"], answer: "Isolation and abandonment" },
            { q: "22. What causes the speaker's return to reality in Stanza VIII?", options: ["The sudden onset of dawn", "The nightingale's abrupt departure", "The realization that imagination cannot fully sustain him", "The fear of getting lost in the forest"], answer: "The realization that imagination cannot fully sustain him" },
            { q: "23. The final line, 'Was it a vision, or a waking dream?', emphasizes the poem's thematic tension between:", options: ["Love and Hate", "Life and Death", "Art and Nature", "Reality and Imagination"], answer: "Reality and Imagination" },
            { q: "24. What mythological river is invoked in 'Lethe-wards had sunk'?", options: ["Styx", "Acheron", "Lethe", "Phlegethon"], answer: "Lethe" },
            { q: "25. The overall tone of the poem can be best described as a journey from:", options: ["Skepticism to belief", "Despair to transcendence and back to thoughtful uncertainty", "Ecstasy to melancholic resignation", "Ignorance to profound knowledge"], answer: "Despair to transcendence and back to thoughtful uncertainty" },

            // She Stoops to Conquer Questions (25 selected)
            { q: "26. 'She Stoops to Conquer' was first performed in which year?", options: ["A) 1750", "B) 1765", "C) 1773", "D) 1789"], answer: "C) 1773" },
            { q: "27. Oliver Goldsmith subtitled the play 'The Mistakes of a Night.' This subtitle primarily refers to:", options: ["A) Marlow's errors in judgment.", "B) Tony Lumpkin's mischievous prank.", "C) The numerous misinterpretations that drive the plot.", "D) Hastings' failed elopement."], answer: "C) The numerous misinterpretations that drive the plot." },
            { q: "28. Which literary genre was Goldsmith reacting against when writing 'She Stoops to Conquer'?", options: ["A) Neoclassical Tragedy", "B) Sentimental Comedy", "C) Restoration Comedy", "D) Absurdist Theatre"], answer: "B) Sentimental Comedy" },
            { q: "29. Mr. Hardcastle's greatest pride is in his:", options: ["A) Wealth and social status.", "B) Taste for fine wines.", "C) Old, unfashionable home and traditional values.", "D) Collection of modern art."], answer: "C) Old, unfashionable home and traditional values." },
            { q: "30. 'I choose my wife as she chooses her wedding gown, by the light of a candle.' Who speaks this line, and what does it reveal?", options: ["A) Mr. Hardcastle; his pragmatic view of marriage.", "B) Tony Lumpkin; his disregard for appearances.", "C) Charles Marlow; his discomfort with women of his own class.", "D) George Hastings; his superficial approach to love."], answer: "C) Charles Marlow; his discomfort with women of his own class." },
            { q: "31. Kate Hardcastle's 'stooping' refers to her act of:", options: ["A) Lowering her social status to engage Marlow.", "B) Physically bending to hide her identity.", "C) Deceiving her father.", "D) Accepting a lower dowry."], answer: "A) Lowering her social status to engage Marlow." },
            { q: "32. Why is Charles Marlow notoriously shy around 'modest' women of his own class?", options: ["A) He fears their intellectual superiority.", "B) He is intimidated by their social standing.", "C) He lacks confidence and conversational skills with them.", "D) He finds them boring."], answer: "C) He lacks confidence and conversational skills with them." },
            { q: "33. Tony Lumpkin's main ambition throughout the play is to:", options: ["A) Marry Miss Neville.", "B) Gain control of his inheritance.", "C) Escape his mother and pursue his own interests.", "D) Become a respected country gentleman."], answer: "C) Escape his mother and pursue his own interests." },
            { q: "34. 'An hour or two's flirting at a pew is as good as three months' conversation over a cup of tea.' Who says this, and what does it suggest about their character?", options: ["A) Kate Hardcastle; her playful approach to courtship.", "B) Charles Marlow; his preference for casual encounters.", "C) George Hastings; his cynical view of social interactions.", "D) Miss Neville; her desire for quick resolutions."], answer: "B) Charles Marlow; his preference for casual encounters." },
            { q: "35. Miss Neville's fortune is primarily tied to:", options: ["A) Her direct inheritance from her father.", "B) A necklace of jewels.", "C) A specific estate owned by her family.", "D) Her marriage to Tony Lumpkin."], answer: "B) A necklace of jewels." },
            { q: "36. The play satirizes the 'town vs. country' dichotomy by presenting:", options: ["A) Country life as inherently superior to city life.", "B) City dwellers as uniformly sophisticated.", "C) Both town and country characters having their own follies and virtues.", "D) Country folk as universally uncivilized."], answer: "C) Both town and country characters having their own follies and virtues." },
            { q: "37. What is Mrs. Hardcastle's primary concern regarding Tony?", options: ["A) His education and moral development.", "B) His eventual marriage to Miss Neville and the securing of her fortune.", "C) His health and well-being.", "D) His reputation in society."], answer: "B) His eventual marriage to Miss Neville and the securing of her fortune." },
            { q: "38. 'I love everything that's old: old friends, old times, old manners, old books, old wine.' This quote is characteristic of which character?", options: ["A) Mrs. Hardcastle", "B) Tony Lumpkin", "C) Mr. Hardcastle", "D) Charles Marlow"], answer: "C) Mr. Hardcastle" },
            { q: "39. How does Tony Lumpkin initially trick Marlow and Hastings?", options: ["A) He steals their money.", "B) He misdirects them to a dilapidated inn.", "C) He tells them Mr. Hardcastle's house is an inn.", "D) He swaps their luggage."], answer: "C) He tells them Mr. Hardcastle's house is an inn." },
            { q: "40. Marlow's behavior when he believes he is at an inn, as opposed to a gentleman's house, reveals his:", options: ["A) True polite nature.", "B) Arrogance and boorishness when dealing with perceived inferiors.", "C) Fear of authority.", "D) Excellent judgment."], answer: "B) Arrogance and boorishness when dealing with perceived inferiors." },
            { q: "41. 'The more of an ox, the more of a gentleman.' This ironic statement reflects whose view of Tony?", options: ["A) Mr. Hardcastle's proud admiration.", "B) Mrs. Hardcastle's doting blindness.", "C) Kate's insightful observation.", "D) Hastings' dismissive contempt."], answer: "B) Mrs. Hardcastle's doting blindness." },
            { q: "42. What is the main reason Miss Neville wishes to elope with Hastings?", options: ["A) She genuinely loves him and wants to escape her family's control.", "B) She wants to spite Mrs. Hardcastle.", "C) She is pregnant.", "D) She is forced into it by Hastings."], answer: "A) She genuinely loves him and wants to escape her family's control." },
            { q: "43. What 'stooping' action does Marlow unintentionally perform in the play?", options: ["A) He pretends to be a servant.", "B) He falls in love with a woman he believes to be beneath his social standing.", "C) He humbly apologizes to Mr. Hardcastle.", "D) He allows himself to be tricked by Tony."], answer: "B) He falls in love with a woman he believes to be beneath his social standing." },
            { q: "44. The play features an important comedic device where characters are unaware of key information known to the audience. This is called:", options: ["A) Situational irony", "B) Dramatic irony", "C) Verbal irony", "D) Farce"], answer: "B) Dramatic irony" },
            { q: "45. Mrs. Hardcastle often praises Tony by saying he has 'more wit and humour than half the gentlemen in the country.' This is an example of:", options: ["A) Foreshadowing", "B) Sarcasm", "C) Doting mother's bias", "D) Understatement"], answer: "C) Doting mother's bias" },
            { q: "46. Marlow's transformation from shy gentleman to assertive lover is primarily facilitated by:", options: ["A) Alcohol consumption.", "B) His belief that Kate is a barmaid.", "C) Kate's direct confrontation.", "D) Hastings' advice."], answer: "B) His belief that Kate is a barmaid." },
            { q: "47. 'I see, sir, you have got a good plain, natural, wholesome taste.' Mr. Hardcastle says this to Marlow, believing him to be:", options: ["A) A connoisseur of fine art.", "B) An admirer of traditional country life.", "C) A simple, unpretentious man.", "D) A critical observer of his hospitality."], answer: "D) A critical observer of his hospitality." },
            { q: "48. What is the primary role of Sir Charles Marlow in the play?", options: ["A) To act as a judge.", "B) To facilitate the elopement.", "C) To resolve the plot's confusions and approve the marriage.", "D) To challenge Mr. Hardcastle to a duel."], answer: "C) To resolve the plot's confusions and approve the marriage." },
            { q: "49. Tony Lumpkin's escape from home is symbolized by his frequent visits to:", options: ["A) The local church.", "B) The Three Pigeons inn.", "C) His grandmother's house.", "D) The nearest city."], answer: "B) The Three Pigeons inn." },
            { q: "50. The play's happy ending is achieved through:", options: ["A) Accidental circumstances.", "B) Deception, mistaken identity, and eventual self-awareness leading to genuine affection.", "C) Strict adherence to social rules.", "D) The intervention of a deus ex machina."], answer: "B) Deception, mistaken identity, and eventual self-awareness leading to genuine affection." }
        ];

        let timeLeft = 25 * 60; // 25 minutes for 50 questions
        let timerInterval;
        const timerElement = document.getElementById("timer");
        const quizForm = document.getElementById("quizForm");
        const submitButton = document.getElementById("submitBtn");
        const startQuizButton = document.getElementById("startQuizBtn");
        const resultDiv = document.getElementById("result");
        const scoreElement = document.getElementById("score");

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        function startTimer() {
            clearInterval(timerInterval); // Clear any existing timer
            timerInterval = setInterval(() => {
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(); // Auto-submit when time runs out
                } else {
                    timeLeft--;
                    timerElement.textContent = `Time left: ${formatTime(timeLeft)}`;
                }
            }, 1000);
        }

        function loadQuiz() {
            quizForm.innerHTML = ''; // Clear existing questions
            // Select 50 questions and shuffle them
            const shuffledQuestions = [...allPossibleQuestions].sort(() => Math.random() - 0.5).slice(0, 50);

            shuffledQuestions.forEach((q, index) => {
                const div = document.createElement("div");
                div.className = "question-block";
                // Store the original question data (including correct answer) on the block
                div.setAttribute('data-correct-answer', q.answer);
                div.setAttribute('data-question-id', `q${index}`); // Unique ID for each question in the form

                let optionsHtml = '';
                // Shuffle options for each question to prevent memorization by position
                const shuffledOptions = [...q.options].sort(() => Math.random() - 0.5);

                shuffledOptions.forEach(opt => {
                    optionsHtml += `
                        <label>
                            <input type="radio" name="q${index}" value="${opt}" required> ${opt}
                        </label>
                    `;
                });

                div.innerHTML = `
                    <p class="question-text"><strong>${index + 1}. ${q.q}</strong></p>
                    <div class="options-group">${optionsHtml}</div>
                `;
                quizForm.appendChild(div);
            });
            scoreElement.textContent = `Score: 0 / ${shuffledQuestions.length}`;
        }

        function submitQuiz() {
            clearInterval(timerInterval); // Stop the timer immediately
            submitButton.disabled = true; // Disable submit button

            let correctAnswersCount = 0;
            const questionBlocks = document.querySelectorAll('.question-block');
            const totalQuestions = questionBlocks.length; // Get the actual number of questions loaded

            questionBlocks.forEach((questionBlock, index) => {
                const userAnswerInput = questionBlock.querySelector(`input[name="q${index}"]:checked`);
                const userAnswer = userAnswerInput ? userAnswerInput.value : null;
                const correctAnswer = questionBlock.getAttribute('data-correct-answer'); // Get correct answer from data attribute

                // Disable all radio buttons for this question
                questionBlock.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.disabled = true;
                });

                // Clear any previous feedback classes from labels
                questionBlock.querySelectorAll('label').forEach(label => {
                    label.classList.remove('selected-correct', 'selected-incorrect', 'correct-answer');
                });

                if (userAnswer === correctAnswer) {
                    correctAnswersCount++;
                    questionBlock.classList.add('correct');
                    if (userAnswerInput) {
                        userAnswerInput.parentNode.classList.add('selected-correct');
                    }
                } else {
                    questionBlock.classList.add('incorrect');
                    if (userAnswerInput) {
                        userAnswerInput.parentNode.classList.add('selected-incorrect');
                    }
                    // Highlight the correct answer
                    const correctAnswerLabel = questionBlock.querySelector(`input[name="q${index}"][value="${correctAnswer}"]`).parentNode;
                    if (correctAnswerLabel) {
                        correctAnswerLabel.classList.add('correct-answer');
                    }
                }
            });

            resultDiv.textContent = `You scored ${correctAnswersCount} out of ${totalQuestions}`;
            resultDiv.classList.remove('hidden'); // Show final result
            startQuizButton.textContent = "Restart Quiz"; // Change text to Restart
            startQuizButton.classList.remove('hidden'); // Show restart button

            scoreElement.textContent = `Score: ${correctAnswersCount} / ${totalQuestions}`;
        }

        function resetQuiz() {
            timeLeft = 25 * 60; // Reset time to 25 minutes
            scoreElement.textContent = `Score: 0 / 0`; // Reset score display
            resultDiv.classList.add('hidden'); // Hide result
            submitButton.disabled = false; // Enable submit button
            startQuizButton.classList.add('hidden'); // Hide restart button initially
            quizForm.classList.remove('hidden'); // Ensure quiz form is visible
            submitButton.classList.remove('hidden'); // Ensure submit button is visible
            loadQuiz(); // Reload questions to clear selections and feedback
            startTimer(); // Start timer again
        }

        // Event Listeners
        submitButton.addEventListener('click', submitQuiz);

        // Initial setup on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Hide quiz form and submit button initially
            quizForm.classList.add('hidden');
            submitButton.classList.add('hidden');
            // Show only the start quiz button
            startQuizButton.classList.remove('hidden');
            startQuizButton.textContent = "Start Quiz";

            // Add the event listener for the first "Start Quiz" click
            startQuizButton.addEventListener('click', function handler() {
                quizForm.classList.remove('hidden');
                submitButton.classList.remove('hidden');
                startQuizButton.classList.add('hidden'); // Hide the start button
                loadQuiz();
                startTimer();
                this.removeEventListener('click', handler); // Remove this specific listener after first click
                startQuizButton.addEventListener('click', resetQuiz); // Now, future clicks on this button will reset the quiz
            });

            // Set initial timer display
            timerElement.textContent = `Time left: ${formatTime(timeLeft)}`;
        });
    </script>
</body>
</html>
